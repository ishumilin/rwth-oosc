<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Assignment 06.2 - Webservice Demo</title>
  <style>
    body { font-family: sans-serif; margin: 24px; }
    .row { display: flex; flex-wrap: wrap; gap: 16px; }
    .card { border: 1px solid #ddd; padding: 12px; width: 240px; }
    img { max-width: 100%; height: auto; display: block; }
    code { background: #f5f5f5; padding: 2px 4px; }
  </style>
</head>
<body>
  <h1>Assignment 06.2 - Image REST Service</h1>
  <p>Health: <code id="health">loading...</code></p>
  <h2>Images</h2>
  <div class="row" id="images"></div>

  <h2>Blueprints (space metrics)</h2>
  <pre>
POST /blueprints with JSON:
{
  "name": "My Blueprint",
  "content": "{\"room\":{\"width\":800,\"height\":600},\"furniture\":[{\"width\":50,\"height\":40}]}"
}

GET /blueprints/{id}/space
GET /blueprints/space
  </pre>

  <script>
    function $(id) { return document.getElementById(id); }

    fetch('/info').then(r => r.text()).then(t => {
      $('health').textContent = t;
    });

    fetch('/images').then(r => r.json()).then(images => {
      var container = $('images');
      container.innerHTML = '';
      for (var i = 0; i < images.length; i++) {
        var div = document.createElement('div');
        div.className = 'card';
        div.innerHTML = '<div><strong>' + (images[i].name || 'Image') + '</strong></div>'
          + '<div>Status: ' + images[i].status + '</div>'
          + '<img src="/images/' + i + '"/>'
          + '<div style="font-size: 12px; margin-top: 8px;">' + (images[i].location || '') + '</div>';
        container.appendChild(div);
      }
    });
  </script>
</body>
</html>
